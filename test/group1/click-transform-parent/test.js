let path = require('path');
let fs = require('fs');

module.exports = {
  'init': function(browser) {
    browser
      .url('file://' + path.join(__dirname, 'index.html'))
      .waitForElementVisible('body', 1000)
      .assert.value('input', 'data:image/png;base64,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')
      .moveToElement('canvas', 50, 1)
      .mouseButtonClick(0)
      .assert.value('input', '0')
      .moveToElement('canvas', 10, 10)
      .mouseButtonClick(0)
      .assert.value('input', '0')
      .moveToElement('canvas', 50, 1)
      .mouseButtonClick(0)
      .assert.value('input', '1')
      .end();
  }
};
