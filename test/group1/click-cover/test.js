let path = require('path');
let fs = require('fs');

module.exports = {
  'init': function(browser) {
    browser
      .url('file://' + path.join(__dirname, 'index.html'))
      .waitForElementVisible('body', 1000)
      .assert.value('input', 'data:image/png;base64,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')
      .moveToElement('canvas', 50, 1)
      .mouseButtonClick(0)
      .assert.value('input', '0')
      .moveToElement('canvas', 10, 10)
      .mouseButtonClick(0)
      .assert.value('input', '0')
      .moveToElement('canvas', 50, 1)
      .mouseButtonClick(0)
      .assert.value('input', '1')
      .end();
  }
};
