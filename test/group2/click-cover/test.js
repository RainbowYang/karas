let path = require('path');
let fs = require('fs');

module.exports = {
  'init': function(browser) {
    browser
      .url('file://' + path.join(__dirname, 'index.html'))
      .waitForElementVisible('body', 1000)
      .assert.value('input', 'data:image/png;base64,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')
      .moveToElement('canvas', 50, 1)
      .mouseButtonClick(0)
      .assert.value('input', '0')
      .moveToElement('canvas', 10, 10)
      .mouseButtonClick(0)
      .assert.value('input', '0')
      .moveToElement('canvas', 50, 1)
      .mouseButtonClick(0)
      .assert.value('input', '1')
      .end();
  }
};
