let path = require('path');
let fs = require('fs');

module.exports = {
  'init': function(browser) {
    browser
      .url('file://' + path.join(__dirname, 'index.html'))
      .waitForElementVisible('body', 1000)
      .assert.value('input', 'data:image/png;base64,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')
      .moveToElement('canvas', 10, 10)
      .mouseButtonClick(0)
      .assert.value('input', 'data:image/png;base64,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')
      .end();
  }
};
