let path = require('path');
let fs = require('fs');

module.exports = {
  'init': function(browser) {
    browser
      .url('file://' + path.join(__dirname, 'index.html'))
      .waitForElementVisible('body', 1000)
      .assert.value('input', 'data:image/png;base64,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INChizEWAQIEBNoNECBAIFRAoEMXYywCBAgItBsgQIBAqIBAhy7GWAQIEBBoN0CAAIFQAYEOXYyxCBAgINBugAABAqECAh26GGMRIEBAoN0AAQIEQgUEOnQxxiJAgIBAuwECBAiECgh06GKMRYAAAYF2AwQIEAgVEOjQxRiLAAECAu0GCBAgECog0KGLMRYBAgQE2g0QIEAgVECgQxdjLAIECAi0GyBAgECogECHLsZYBAgQEGg3QIAAgVABgQ5djLEIECAg0G6AAAECoQICHboYYxEgQECg3QABAgRCBQQ6dDHGIkCAgEC7AQIECIQKCHToYoxFgAABgXYDBAgQCBUQ6NDFGIsAAQIC7QYIECAQKiDQoYsxFgECBATaDRAgQCBUQKBDF2MsAgQICLQbIECAQKiAQIcuxlgECBAQaDdAgACBUAGBDl2MsQgQICDQboAAAQKhAgIduhhjESBAQKDdAAECBEIFBDp0McYiQICAQLsBAgQIhAoIdOhijEWAAAGBdgMECBAIFRDo0MUYiwABAgLtBggQIBAqINChizEWAQIEBNoNECBAIFRAoEMXYywCBAgItBsgQIBAqMD/pgHieFJ4oVgAAAAASUVORK5CYII=')
      .moveToElement('canvas', 50, 1)
      .mouseButtonClick(0)
      .assert.value('input', '0')
      .moveToElement('canvas', 10, 10)
      .mouseButtonClick(0)
      .assert.value('input', '0')
      .moveToElement('canvas', 50, 1)
      .mouseButtonClick(0)
      .assert.value('input', '1')
      .end();
  }
};
