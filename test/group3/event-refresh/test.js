let path = require('path');
let fs = require('fs');

module.exports = {
  'init': function(browser) {
    browser
      .url('file://' + path.join(__dirname, 'index.html'))
      .waitForElementVisible('body', 1000)
      .assert.value('input', 'data:image/png;base64,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')
      .moveToElement('canvas', 1, 1)
      .mouseButtonClick(0)
      .pause(20)
      .assert.value('input', '0')
      .mouseButtonClick(0)
      .pause(20)
      .assert.value('input', '1')
      .end();
  }
};
