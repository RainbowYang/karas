let json = {
  "tagName": "div",
  "props":
    {
      "style":
        {
          "w": 360,
          "h": 360
        }
    },
  "children": [
    {
      "name": "豆子",
      "init":
        {
          ref: 'img',
          "style":
            {
              "zi": -4,
              "sx": 0.25,
              "sy": 0.25,
              "l": 244,
              "t": 0
            }
        },
      "libraryId": 3
    },
    {
      "name": "杯子",
      "tagName": "div",
      "props": {
        "style": {
          width: 200,
          height: 200,
          background: '#00F'
        },
      },
    },
    {
      "name": "路径",
      "children": [
        {
          "name": "路径",
          "tagName": "$polyline",
          "props":
            {
              "style":
                {
                  "w": 1,
                  "h": 1,
                  "s": "rgb(255, 255, 255, 1)",
                  "f": "rgb(255, 0, 0, 0.1)",
                  "p": "absolute",
                  "sw": 20,
                  "strokeLineJoin": "round",
                  "strokeMiterLimit": 4,
                  "l": 0,
                  "t": 0,
                },
              "points": [
                [-75.7963, -164.868],
                [31.1137, -141.068],
                [31.1237, -140.518],
                [31.1437, -140.518],
                [32.9637, -130.158],
                [43.0137, -124.518],
                [53.0637, -110.328],
                [52.4537, -105.758],
                [88.2837, -107.808],
                [108.5137, -107.168],
                [132.3437, -127.138],
                [185.6337, -90.418],
                [189.6137, -85.338],
                [200.4137, -68.468],
                [187.8937, -50.378],
                [181.4837, -18.618],
                [184.2037, -11.608],
                [177.9537, -1.128],
                [149.3337, 140.612],
                [90.2337, 166.392],
                [31.1437, 140.612],
                [31.1337, 140.612],
                [12.3937, 53.002],
                [0.5337, 124.332],
                [-59.8563, 153.162],
                [-122.1063, 128.612],
                [-122.1163, 128.612],
                [-165.3163, -43.308],
                [-194.9863, -67.118],
                [-194.6563, -71.768],
                [-198.3563, -80.388],
                [-198.3063, -79.848],
                [-198.3263, -79.848],
                [-199.4163, -100.638],
                [-199.1063, -100.658],
                [-180.2563, -120.048],
                [-179.6063, -129.498],
                [-179.5863, -129.498],
                [-179.6363, -130.048],
                [-75.7963, -164.868]
              ],
              "controls": [
                [-17.5963, -167.908, 30.2737, -157.258],
                [31.1237, -140.888, 31.1337, -140.698],
                [31.1237, -140.518, 31.1437, -140.518],
                [31.1437, -140.518, 32.9637, -130.158],
                [36.8637, -128.418, 40.2337, -126.528],
                [49.2337, -120.308, 52.7937, -115.528],
                [53.1437, -108.798, 52.9337, -107.278],
                [63.7037, -107.088, 75.7537, -107.808],
                [95.1837, -107.808, 101.9437, -107.588],
                [115.9837, -109.578, 121.2637, -118.188],
                [153.6037, -144.298, 175.3537, -114.648],
                [187.1437, -89.158, 188.5137, -87.538],
                [196.5437, -80.228, 200.4137, -74.508],
                [200.4137, -61.948, 195.8937, -55.798],
                [187.8937, -50.378, 181.4837, -18.618],
                [183.2637, -16.368, 184.2037, -14.028],
                [184.2037, -7.918, 181.9937, -4.378],
                [177.9537, -1.128, 149.3337, 140.612],
                [148.7937, 154.882, 122.5437, 166.392],
                [57.9237, 166.392, 31.6737, 154.882],
                [31.1437, 140.612, 31.1337, 140.612],
                [31.1337, 140.612, 12.3937, 53.002],
                [12.3937, 53.002, 0.5337, 124.332],
                [0.4837, 139.132, -26.3363, 151.992],
                [-93.3763, 154.322, -121.0363, 143.372],
                [-122.1063, 128.612, -122.1163, 128.612],
                [-122.1163, 128.612, -165.3163, -43.308],
                [-183.0063, -48.888, -194.1063, -57.138],
                [-195.1163, -68.668, -195.0063, -70.218],
                [-196.9163, -74.478, -198.1963, -77.368],
                [-198.3563, -80.388, -198.3063, -79.848],
                [-198.3063, -79.848, -198.3263, -79.848],
                [-198.3263, -79.848, -199.4163, -100.638],
                [-199.4163, -100.638, -199.1063, -100.658],
                [-197.9463, -107.468, -191.1963, -114.108],
                [-180.2563, -120.048, -179.6063, -129.498],
                [-179.6063, -129.498, -179.5863, -129.498],
                [-179.6063, -129.678, -179.6263, -129.858],
                [-180.4863, -146.238, -133.9963, -161.828]
              ]
            },
        }],
      "props":
        {
          "style":
            {
              "p": "absolute",
              "zi": -8,
              "w": 250,
              "h": 250,
              "l": 149.5,
              "t": 166.8
            }
        },
      "tagName": "div"
    }
  ],
  "library": [
    {
      "children": [],
      "props":
        {
          "src": "data:image/png;base64,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",
          "style":
            {
              "p": "absolute",
              "w": 208,
              "h": 208,
            }
        },
      "tagName": "img",
      "id": 3
    }
  ]
};

let o = karas.render(
  <webgl width="360" height="360">
    {
      karas.parse(json)
    }
  </webgl>,
  '#test'
);
o.on('refresh', function() {
  o.ref.img.updateStyle({
    translateY: 100
  }, function() {
    let input = document.querySelector('#base64');
    input.value = document.querySelector('canvas').toDataURL();
  });
});
