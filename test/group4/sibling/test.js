let path = require('path');
let fs = require('fs');

module.exports = {
  'init': function(browser) {
    browser
      .url('file://' + path.join(__dirname, 'index.html'))
      .waitForElementVisible('body', 1000)
      .assert.value('input', 'data:image/png;base64,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')
      .moveToElement('canvas', 1, 1)
      .mouseButtonClick(0)
      .assert.value('input', 'null,true,true,null')
      .end();
  }
};
